import{n as I,r as p,j as e,t as x,a as y}from"./index-cqVgEavT.js";import{r as c}from"./react-vendor-BeLYVh7p.js";import{u as b,b as g}from"./redux-vendor-D38MT8HC.js";import{u as j}from"./router-vendor-oGtHbYlf.js";const E=({images:a,priority:s=[]})=>(c.useEffect(()=>{s.forEach(n=>{const r=new Image;r.src=n,r.fetchPriority="high"}),a.filter(n=>!s.includes(n)).forEach(n=>{const r=new Image;r.src=n,r.fetchPriority="low",r.loading="lazy"})},[a,s]),null),w=()=>{const a=b(),{currentImageIndex:s,images:l}=g(t=>t.carousel),{headingText:n,subheadingText:r,typedHeading:o,typedSubheading:d}=g(t=>t.typing),m=c.useRef({typedHeading:o,typedSubheading:d});c.useEffect(()=>{m.current={typedHeading:o,typedSubheading:d}},[o,d]),c.useEffect(()=>{const t=setInterval(()=>{a(I())},5e3);return()=>clearInterval(t)},[a]),c.useEffect(()=>{a(p());let t,i;const f=()=>{t=setInterval(()=>{m.current.typedHeading.length<n.length?a(x()):(clearInterval(t),setTimeout(()=>{v()},500))},100)},v=()=>{i=setInterval(()=>{m.current.typedSubheading.length<r.length?a(y()):clearInterval(i)},70)};return f(),()=>{clearInterval(t),clearInterval(i)}},[a,n,r]);const u=j(),h=()=>{u("/brainstorming-dream-travel")};return e.jsxs(e.Fragment,{children:[e.jsx(E,{images:l,priority:[l[s]]}),e.jsxs("div",{className:"carousel-container",children:[l.map((t,i)=>e.jsx("div",{className:`carousel-slide ${i===s?"active":""}`,style:{backgroundImage:`url(${t})`}},i)),e.jsx("div",{className:"image-overlay"}),e.jsxs("div",{className:"content",children:[e.jsx("h1",{children:o}),e.jsx("h2",{children:d}),e.jsxs("div",{className:"buttons-container",children:[e.jsx("button",{className:"dream-button",children:"Draw my dream destination"}),e.jsx("button",{className:"dream-button",onClick:h,children:"Brain storm you dream travel"})]})]})]})]})};export{w as default};
